<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="style.css">
<title>Game Server Cage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div id="Game Server Cage - Wireguard on NixOS"><h1 id="Game Server Cage - Wireguard on NixOS" class="header"><a href="#Game Server Cage - Wireguard on NixOS">Game Server Cage - Wireguard on NixOS</a></h1></div>

<div id="Game Server Cage - Wireguard on NixOS-Introduction &amp; Motivation"><h2 id="Introduction &amp; Motivation" class="header"><a href="#Game Server Cage - Wireguard on NixOS-Introduction &amp; Motivation">Introduction &amp; Motivation</a></h2></div>

<p>
I was playing <span id="Game Server Cage - Wireguard on NixOS-Introduction &amp; Motivation-The Forest"></span><strong id="The Forest">The Forest</strong> with a few friends and thought that it would be nice
to setup a few game servers. Having recently transitioned to NixOS and never
having set something like this up before, this is also a great time to learn a
few newer technologies other than simply setting up the server and opening the
port on my router.
</p>

<p>
My vision is something like this:
</p>

<p>
Have a Wireguard VPN setup where my friends can connect to an isolated subnet
where all my game servers are exposed. As a bonus goal I would also like to have
my normal internet traffic for my desktop and other devices go through Wireguard
to a hosted VPS on AWS. I'm hoping this exercise will teach me more about
networking and VPNs in general.
</p>

<p>
The part of my knowledge that I'm missing for this case is how to separate the
game server VPN from accessing the rest of my network since I only care about
the game server traffic reaching my friends and my own windows gaming virtual
machine also accessing the server.
</p>

<div id="Game Server Cage - Wireguard on NixOS-Network Topology"><h2 id="Network Topology" class="header"><a href="#Game Server Cage - Wireguard on NixOS-Network Topology">Network Topology</a></h2></div>
<p>
WGI = Wiregaurd Virtual Interface.
</p>

<p>
192.168.1.1:
	<code>zombie</code> - 192.168.1.164:
		<code>game0</code> - WGVI for my game servers.
		<code>vpn0</code> - WGVI for general use.
</p>

<p>
In this case <code>zombie</code> needs to act both as a Wireguard client and server. It
acts as a server hosting the VPN that allows for my friends and as a client
connecting to my VPS on AWS.
</p>

<div id="Game Server Cage - Wireguard on NixOS-Implementation"><h2 id="Implementation" class="header"><a href="#Game Server Cage - Wireguard on NixOS-Implementation">Implementation</a></h2></div>
<div id="Game Server Cage - Wireguard on NixOS-Minecraft Server"><h2 id="Minecraft Server" class="header"><a href="#Game Server Cage - Wireguard on NixOS-Minecraft Server">Minecraft Server</a></h2></div>
<div id="Game Server Cage - Wireguard on NixOS-Conclusion"><h2 id="Conclusion" class="header"><a href="#Game Server Cage - Wireguard on NixOS-Conclusion">Conclusion</a></h2></div>

</body>
</html>
